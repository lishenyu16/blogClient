webpackJsonp([1],{"+cgv":function(t,e){},"/OkD":function(t,e,o){"use strict";var n=o("Yipx"),s=o.n(n),i=o("PZ/o");var a=function(t){o("owK7")},r=o("VU/8")(s.a,i.a,!1,a,"data-v-20a0794d",null);e.default=r.exports},"2PFj":function(t,e){},"2tJz":function(t,e){},"39zp":function(t,e,o){"use strict";var n=o("ULfY"),s=o.n(n),i=o("Ewgm");var a=function(t){o("2tJz")},r=o("VU/8")(s.a,i.a,!1,a,"data-v-2782fe96",null);e.default=r.exports},"3QF5":function(t,e){},"3f40":function(t,e){},"4qOc":function(t,e){},"7ey/":function(t,e){},Ewgm:function(t,e,o){"use strict";var n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("router-link",{staticClass:"nav-list-item",attrs:{to:"/home"}},[this._v("Home")]),this._v(" "),e("router-link",{staticClass:"nav-list-item",attrs:{to:"/blog"}},[this._v("Blog")]),this._v(" "),e("router-link",{staticClass:"nav-list-item",attrs:{to:"/projects"}},[this._v("Projects")]),this._v(" "),e("router-link",{staticClass:"nav-list-item",attrs:{to:"/life"}},[this._v("Life")])],1)},staticRenderFns:[]};e.a=n},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("7+uW"),s=o("39zp"),i=o("mtWM"),a=o.n(i),r=function(){return a.a.create({baseURL:"http://54.193.249.19:3000"})},l=function(t){return r().post("register",t)},c=function(t){return r().post("login",t)},u={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"topnav"},[t._m(0),t._v(" "),o("div",{staticClass:"setting"},[t.isLoggedIn?t._e():o("a",{on:{click:t.login}},[t._v("Sign In")]),t._v(" "),t.isLoggedIn?t._e():o("a",{on:{click:t.signup}},[t._v("Sign Up")]),t._v(" "),t.isLoggedIn?o("a",{on:{click:t.signout}},[t._v("Sign out")]):t._e(),t._v(" "),t.isLoggedIn?o("a",{on:{click:t.profile}},[t._v("Profile")]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"setting aboutme"},[e("a",{attrs:{href:"https://lishenyu16.github.io/aboutMe/"}},[this._v("About Me")])])}]};var d=o("VU/8")({data:function(){return{expand:!1}},methods:{signout:function(){this.$store.commit("SET_USER",null),this.$store.commit("SET_TOKEN",null),this.$router.push("/login")},login:function(){this.$router.push("/login")},signup:function(){this.$router.push("/signup")},profile:function(){this.$router.push("/profile")}},computed:{user:function(){return this.$store.getters.currentUser},isLoggedIn:function(){return this.$store.getters.isLoggedIn}}},u,!1,function(t){o("wpJ1")},"data-v-7e715fbe",null).exports,m={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"blog-footer"},[e("p",[this._v("© Copyright 2019 "),e("a",{attrs:{href:"www.shenyu16.com"}},[this._v("Shenyu")])])])}]};var p=o("VU/8")(null,m,!1,function(t){o("XaBH")},"data-v-645106c8",null).exports,v=function(){return r().get("blogs")},g=function(t){return r().post("blogs",t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})},h=function(t){return r().get("blogs/"+t)},f=function(t){return r().put("blogs/edit-blog",t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})},_=function(t){return r().delete("blogs/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})},b=function(t){return r().post("blogs/add-blog-comment",t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})},y={components:{"app-header":d,"app-nav":s.default,"app-footer":p},created:function(){this.$store.dispatch("tryAutoLogin")},mounted:function(){a.a.get("https://ipinfo.io/").then(function(t){var e={ip:t.data.ip,city:t.data.city||null,region:t.data.region||null,country:t.data.country||null,time:new Date};a.a.post("http://54.193.249.19:3000/visitor",e).then(function(t){}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("app-header"),this._v(" "),e("app-nav"),this._v(" "),e("router-view"),this._v(" "),e("app-footer")],1)},staticRenderFns:[]};var w=o("VU/8")(y,C,!1,function(t){o("ZR+H")},"data-v-71e96538",null).exports,I=o("/ocq"),k=o("0xri"),S={components:{Clock:o.n(k).a},data:function(){return{clock:this.time,user:this.$store.getters.currentUser}},computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},time:function(){var t=new Date;return t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},time_status:function(){var t=(new Date).getHours();return t>=5&&t<12?"morning":t>=12&&t<17?"afternoon":"evening"}}},$={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"clock"},[o("clock",{attrs:{time:t.clock,border:"none",bg:"radial-gradient(circle, #ecffe5, #fffbe1, #38ff91)"}})],1),t._v(" "),o("div",{staticClass:"intro"},[t.isLoggedIn?o("div",[t._v("Good "+t._s(t.time_status)+" "),o("i",[t._v(t._s(t.user.username))]),t._v(" & welcome to my blog !")]):t._e(),t._v(" "),t.isLoggedIn?t._e():o("div",[t._v("Good "+t._s(t.time_status)+" & welcome to my blog !")]),o("br"),t._v(" "),o("div",[t._v("If you checked out the “About Me” page then you know my name is Shenyu.  Looking at the front page, you probably saw that \nthis is a computer science blog(or maybe some other articles about my life? lol).")]),o("br"),t._v(" "),o("div",[t._v("Glad you came by.  I wanted to welcome you and let you know I appreciate you spending time here at the blog very much.  \nEveryone is so busy and life moves pretty fast,  so I really do appreciate you taking time out of your busy day to check out\nmy blog. Thanks.")]),o("br"),t._v(" "),o("div",[t._v(" Another thing I will always appreciate is your feedback to the blog.  If you have any comments or suggestions I welcome them\nand would love to hear them.  Always.  Not that all criticism is a fun thing but I think honest criticism given in an honest\npositive manner is something we can all learn and grow from if we are open to hearing it.  I will always listen to your ideas.\nSo I do welcome your suggestions for the blog...")]),o("br"),t._v(" "),o("div",[t._v("Always.")]),o("br"),t._v(" "),o("div",[t._v("I will always do my best to bring you content that will interest, inspire, motivate and maybe even have you walking away\nthinking about and seeing things in a different way than before you came.  I want to blog about more than just computer science\nand…  Life is so much more than that and I want to touch on everything because I think our lives are more than just sitting in front of screens.")]),t._v(" "),o("div",[t._v("This blog will always be changing because I am.  You are.  The world is.  So don’t get too comfortable.  I like to surprise\nfrom time to time, I just might throw you a curve ball every now and then.  😉")]),o("br"),t._v(" "),o("div",[t._v("Thanks for letting me,")]),o("br"),t._v(" "),o("div",[t._v("Shenyu 🙂")])])])},staticRenderFns:[]};var U=o("VU/8")(S,$,!1,function(t){o("wx/U")},"data-v-ce3c3cac",null).exports,E={data:function(){return{email:"",password:"",error:!1}},methods:{onSubmit:function(){var t=this;c({email:this.email,password:this.password}).then(function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("userId",e.data.userId),localStorage.setItem("email",e.data.email),localStorage.setItem("isAdmin",e.data.isAdmin),localStorage.setItem("username",e.data.username),localStorage.setItem("expirationDate",e.data.expirationDate),t.$store.commit("SET_USER",{username:e.data.username,userId:e.data.userId,email:e.data.email,isAdmin:e.data.isAdmin}),t.$store.commit("SET_TOKEN",e.data.token),t.$store.dispatch("setLogoutTimer"),t.$router.push("/")}).catch(function(e){401==e.response.status?t.error=!0:alert("An internal error occured, please try again")})}}},x={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"text-center"},[o("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t.error?t._e():o("h2",[t._v("Please sign in")]),t._v(" "),t.error?o("h2",{staticClass:"error"},[t._v("Login input is incorrect!")]):t._e(),t._v(" "),o("div",{staticClass:"credentials"},[o("label",{attrs:{for:"email"}},[t._v("Email")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",required:"",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),o("label",{attrs:{for:"password"}},[t._v("Password")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",required:"",autofocus:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),o("button",{staticClass:"btn-signin",attrs:{type:"submit"}},[t._v("Sign In")])])])},staticRenderFns:[]};var j=o("VU/8")(E,x,!1,function(t){o("7ey/")},"data-v-97450db6",null).exports,L={data:function(){return{username:"",email:"",password:"",confirm_pw:"",error:null,bad_pw:!1}},methods:{register:function(){var t=this;l({username:this.username,email:this.email,password:this.password}).then(function(e){t.$router.push("/login")}).catch(function(e){
//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
console.log(e.response.status),console.log(e.response),400==e.response.status?t.error=e.response.data.error:401==e.response.status?t.error=e.response.data.message:alert("Internal error occured, please try again")})}},computed:{unmatch:function(){return this.password!=this.confirm_pw},invalid_pw:function(){return this.password.length<=5},disabled:function(){return!(!this.unmatch&&!this.invalid_pw)}}},T={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"text-center"},[o("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[o("h2",[t._v("Register")]),t._v(" "),o("div",{staticClass:"credentials"},[o("label",{attrs:{for:"username"}},[t._v("Username")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",required:"",autofocus:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),o("label",{attrs:{for:"email"}},[t._v("Email")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",required:"",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),o("label",{attrs:{for:"password"}},[t._v("Password")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],class:{confirm_pw:t.invalid_pw},attrs:{type:"password",required:"",autofocus:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),o("label",{attrs:{for:"password"}},[t._v("Confirm Password")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.confirm_pw,expression:"confirm_pw"}],class:{confirm_pw:t.unmatch},attrs:{type:"password",required:"",autofocus:""},domProps:{value:t.confirm_pw},on:{input:function(e){e.target.composing||(t.confirm_pw=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"error",domProps:{innerHTML:t._s(t.error)}}),t._v(" "),t.unmatch?o("div",{staticClass:"error"},[t._v("Passwords dont't match")]):t._e(),t._v(" "),t.invalid_pw?o("div",{staticClass:"error"},[t._v("Passwords must be at least 6 characters")]):t._e(),t._v(" "),o("button",{staticClass:"btn-signup",attrs:{type:"submit",disabled:t.disabled}},[t._v("Sign Up")])])])},staticRenderFns:[]};var R=o("VU/8")(L,T,!1,function(t){o("aXV8")},"data-v-49368556",null).exports,M={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card-brief",on:{click:function(e){t.goToDetail(t.blog)}}},[o("div",{staticClass:"card-header"},[o("h3",[t._v(t._s(t.blog.title))])]),t._v(" "),o("div",{staticClass:"card-body"},[o("p",{staticClass:"card-text",attrs:{id:"blog-brief"},domProps:{innerHTML:t._s(t.blog.brief)}}),t._v(" "),o("p",{staticClass:"card-text"},[o("small",{staticClass:"text-muted"},[t._v(t._s(t.blog.date))])])])])},staticRenderFns:[]};var P={mounted:function(){var t=this;v().then(function(e){t.$store.dispatch("setBlogs",e.data)})},components:{blogBrief:o("VU/8")({props:["blog"],methods:{goToDetail:function(t){this.$store.commit("CURRENT_BLOG",t),this.$router.push({name:"blogdetail",params:{_id:t._id}})}}},M,!1,function(t){o("qZTC")},"data-v-41e751d6",null).exports},computed:{blogs:function(){return this.$store.getters.blogs},isLoggedInAdmin:function(){return!(!this.$store.getters.isLoggedIn||!this.$store.getters.currentUser.isAdmin)}}},A={render:function(){var t=this.$createElement,e=this._self._c||t;return e("main",{attrs:{role:"main"}},[e("div",{staticClass:"card-columns"},[this._l(this.blogs,function(t,o){return e("blog-brief",{key:t._id,staticClass:"card",attrs:{blog:t}})}),this._v(" "),this.isLoggedInAdmin?e("div",{staticClass:"card"},[e("div",{staticClass:"add-blog"},[e("h3",[e("router-link",{attrs:{to:"/addblog"}},[e("a",[this._v("Add Blog")])])],1)])]):this._e()],2)])},staticRenderFns:[]};var N=o("VU/8")(P,A,!1,function(t){o("pc9B")},"data-v-47116932",null).exports,B=o("y68C"),V={components:{RadialMenu:B.RadialMenu,RadialMenuItem:B.RadialMenuItem},created:function(){var t=this;h(this.$route.params._id).then(function(e){t.id=e.data._id,t.title=e.data.title,t.contents=e.data.contents,t.date=e.data.date,t.comments=e.data.comments,t.imgURL=e.data.imgURL}).catch(function(e){404==e.response.status?(alert("Could not find this blog!"),t.$router.push("/blog")):alert("Internal error occured, please try again")})},data:function(){return{isModalVisible:!1,input:"",id:null,title:null,contents:null,date:null,comments:null,imgURL:null,items:["Like","Share"],adminItems:["Edit","Like","Share","Delete"],lastClicked:"Operations"}},computed:{today:function(){var t=new Date,e=t.getDate(),o=t.getMonth()+1,n=t.getFullYear();return e<10&&(e="0"+e),o<10&&(o="0"+o),o+"/"+e+"/"+n},isLoggedInAdmin:function(){return!(!this.$store.getters.isLoggedIn||!this.$store.getters.currentUser.isAdmin)}},methods:{showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1},addComment:function(){var t=this;if(!this.$store.getters.currentUser)return confirm("You are not logged in or authentication expired, log in now?")?this.$router.replace("/login"):void 0;var e={userId:this.$store.getters.currentUser.userId||null,username:this.$store.getters.currentUser.username||null,blogId:this.id,comment:this.input,date:this.today};b(e).then(function(e){t.$store.commit("CURRENT_BLOG",e.data),t.isModalVisible=!1,alert("New comment has been posted!"),t.input="",t.comments=e.data.comments}).catch(function(e){401==e.response.status&&confirm("Your authentication expired, log in now?")&&t.$router.replace("/login"),404==e.response.status?(alert("Blog Not Found!"),t.$router.replace("/blog")):alert("An internal error occured, please try again")})},edit:function(){this.$router.push("/editblog")},remove:function(){var t=this;confirm("Delete this blog?")&&_(this.id).then(function(){alert("This blog has been removed successfully!"),t.$router.replace("/blog")}).catch(function(e){401==e.response.status?(alert("Your authentication expired, please log in"),t.$router.replace("/login")):403==e.response.status?(alert("Unauthorized operation"),t.$router.replace("/home")):404==e.response.status?(alert("Blog Not Found!"),t.$router.replace("/blog")):alert("An internal error occured, please try again")})},handleClick:function(t){if("Edit"==t)this.edit();else if("Delete"==t)this.remove();else if("Comment"!=t)return}}},D={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"blog-detail"},[o("div",{staticClass:"container"},[o("h1",{staticStyle:{"text-shadow":"4px 4px 8px blue"}},[t._v(t._s(t.title))]),t._v(" "),o("p",{staticClass:"date"},[o("small",[t._v("Last modified on "+t._s(t.date))])]),t._v(" "),o("div",{staticStyle:{"text-align":"left"},domProps:{innerHTML:t._s(t.contents)}})]),t._v(" "),o("div",{staticClass:"container"},[o("div",[o("radial-menu",{staticStyle:{margin:"0 auto","background-color":"white"},attrs:{itemSize:50,radius:120,"angle-restriction":180}},t._l(t.isLoggedInAdmin?t.adminItems:t.items,function(e,n){return o("radial-menu-item",{key:n,staticStyle:{"background-color":"orange"},on:{click:function(){return t.handleClick(e)}}},[o("span",[t._v(t._s(e))])])})),t._v(" "),o("div",{staticStyle:{color:"rgba(0,0,0,0.6)","margin-top":"16px"}},[t._v(t._s(t.lastClicked))])],1)]),t._v(" "),o("transition",{attrs:{name:"modal-fade"}},[t.isModalVisible?o("div",{staticClass:"modal-backdrop",on:{click:t.closeModal}},[o("div",{staticClass:"modal",on:{click:function(t){t.stopPropagation()}}},[o("div",{staticClass:"modal-header"},[o("div",{staticClass:"modal-header-title"},[t._v("\n                        Write your comment here...\n                    ")]),t._v(" "),o("div",[o("button",{staticClass:"btn-close",attrs:{type:"button"},on:{click:t.closeModal}},[t._v("X")])])]),t._v(" "),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"input-area"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"comment-input",attrs:{cols:"60",rows:"3",placeholder:"Write your message here..."},domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn-green",attrs:{type:"button"},on:{click:t.closeModal}},[t._v("Cancel")]),t._v(" "),o("button",{staticClass:"btn-green",attrs:{type:"button"},on:{click:t.addComment}},[t._v("Submit")])])])]):t._e()]),t._v(" "),o("div",{staticClass:"comment-area"},[o("div",{staticClass:"comments-list-header"},[o("div",{staticClass:"comment-area-title"},[t._v("\n                What is on your mind?\n            ")]),t._v(" "),o("div",{staticClass:"comment-area-button"},[o("button",{staticClass:"btn-pencil",attrs:{type:"button"},on:{click:t.showModal}},[t._v("✎")])])]),t._v(" "),o("hr"),t._v(" "),o("div",{staticClass:"comments-list"},t._l(t.comments,function(e){return o("ul",{staticClass:"comments-list-ul"},[o("div",{staticClass:"user-date"},[o("div",{staticClass:"user-date-user"},[t._v(t._s(e.username))]),t._v(" "),o("div",{staticClass:"user-date-date"},[t._v(t._s(e.date))])]),t._v(" "),o("li",{staticClass:"comments-list-item"},[t._v("\n                    "+t._s(e.comment)+"\n                ")]),t._v(" "),o("hr")])}))])],1)},staticRenderFns:[]};var O=o("VU/8")(V,D,!1,function(t){o("tZpj")},"data-v-1f2cd693",null).exports,F=(o("V8mf"),[["bold","italic","underline","strike"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","image"],["clean"]]),z={data:function(){return{title:"",contents:"",brief:"",comments:[],imgURL:null,editorOption:{placeholder:"",theme:"snow",modules:{toolbar:{container:F,handlers:{image:function(t){t?document.querySelector(".avatar-uploader input").click():this.quill.format("image",!1)}}}}}}},computed:{today:function(){var t=new Date,e=t.getDate(),o=t.getMonth()+1,n=t.getFullYear();return e<10&&(e="0"+e),o<10&&(o="0"+o),o+"/"+e+"/"+n}},methods:{onEditorChange:function(t){t.quill,t.html;var e=t.text;if(e.length<100)this.brief=e;else{for(var o=e.split(""),n=[],s=0;s<100;s++)n.push(o[s]);this.brief=n.join("")}},addBlog:function(){var t=this,e={title:this.title,contents:this.contents,date:this.today,brief:this.brief,comments:this.comments,imgURL:this.imgURL};g(e).then(function(o){console.log("res status: ",o.status),t.$store.dispatch("addBlog",e).then(function(){t.$router.replace("/blog")})}).catch(function(e){401==e.response.status?(alert("Your authentication expired, plz login"),console.log("Not authenticated operation, plz login"),t.$router.replace("/login")):403==e.response.status?alert("You have no authorization"):alert("Internal error occured, please try again")})}}},q={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"title"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"title-input",attrs:{type:"text",name:"title",placeholder:"Please enter title here"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"quill"},[o("quill-editor",{ref:"myQuillEditor",attrs:{options:t.editorOption},on:{change:function(e){t.onEditorChange(e)}},model:{value:t.contents,callback:function(e){t.contents=e},expression:"contents"}})],1),t._v(" "),o("div",{staticClass:"submit"},[o("button",{staticClass:"btn-submit",on:{click:t.addBlog}},[t._v("Save")])])])},staticRenderFns:[]};var Y=o("VU/8")(z,q,!1,function(t){o("vqMJ")},"data-v-79c389e6",null).exports,H=[["bold","italic","underline","strike"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","image"],["clean"]],J={data:function(){return{blog:this.$store.getters.currentBlog,title:this.$store.getters.currentBlog.title,contents:this.$store.getters.currentBlog.contents,brief:this.$store.getters.currentBlog.brief,comments:this.$store.getters.currentBlog.comments,imgURL:this.$store.getters.currentBlog.imgURL,editorOption:{placeholder:"",theme:"snow",modules:{toolbar:{container:H,handlers:{image:function(t){t?document.querySelector(".avatar-uploader input").click():this.quill.format("image",!1)}}}}}}},methods:{onEditorChange:function(t){t.quill,t.html;var e=t.text;if(e.length<100)this.brief=e;else{for(var o=e.split(""),n=[],s=0;s<100;s++)n.push(o[s]);this.brief=n.join("")}},save:function(){var t=this,e={_id:this.blog._id,title:this.title,contents:this.contents,date:this.today,brief:this.brief,comments:this.comments,imgURL:this.imgURL};f(e).then(function(o){t.$store.commit("CURRENT_BLOG",e),t.$router.replace("/blogdetail/"+t.blog._id)}).catch(function(e){401==e.response.status&&(alert("Your authentication expired, please log in"),t.$router.replace("/login")),403==e.response.status&&(alert("Unauthorized operation"),t.$router.replace("/home")),404==e.response.status?(alert("Blog Not Found!"),t.$router.replace("/blog")):alert("An internal error occured, please try again")})}},computed:{today:function(){var t=new Date,e=t.getDate(),o=t.getMonth()+1,n=t.getFullYear();return e<10&&(e="0"+e),o<10&&(o="0"+o),o+"/"+e+"/"+n}}},G={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"title"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"title-input",attrs:{type:"text",name:"title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"quill"},[o("quill-editor",{ref:"myQuillEditor",attrs:{options:t.editorOption},on:{change:function(e){t.onEditorChange(e)}},model:{value:t.contents,callback:function(e){t.contents=e},expression:"contents"}})],1),t._v(" "),o("div",{staticClass:"submit"},[o("button",{staticClass:"btn-submit",on:{click:t.save}},[t._v("Save")])])])},staticRenderFns:[]};var K=o("VU/8")(J,G,!1,function(t){o("2PFj")},"data-v-1147c1ed",null).exports,Z={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"background"}),this._v(" "),e("h1",[this._v("Life Style")])])}]};var W=o("VU/8")({},Z,!1,function(t){o("iuBj")},"data-v-efca57fa",null).exports,X=o("/OkD"),Q=function(){return r().get("projects")},tt=function(t){return r().post("projects/add-project",t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})},et=function(t){return r().delete("projects/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})},ot={props:["project"],data:function(){return{isModalVisible:!1,playerVars:{origin:window.location.origin}}},methods:{playVideo:function(){this.player.playVideo()},showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1},deleteProject:function(){var t=this;confirm("Remove this project?")&&et(this.project._id).then(function(e){alert("This project has been removed successfully!"),t.closeModal();var o=t.$store.getters.projects.filter(function(e){return e._id!=t.project._id});t.$store.commit("SET_PROJECTS",o)}).catch(function(e){console.log("err:",e),401==e.response.status?(alert("Your authentication expired, please log in"),t.$router.replace("/login")):403==e.response.status?(alert("Unauthorized operation"),t.$router.replace("/home")):404==e.response.status?(alert("Project Not Found!"),t.$router.replace("/blog")):alert("An internal error occured, please try again")})},goToSource:function(){return this.project.srcCode}},computed:{isSrcUrlNull:function(){return"null"==this.project.srcUrl},isLoggedInAdmin:function(){return!(!this.$store.getters.isLoggedIn||!this.$store.getters.currentUser.isAdmin)},player:function(){return this.$refs.youtube.player}}},nt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"panel"},[o("div",{staticClass:"title-bar"},[o("div",{staticClass:"project-title"},[t._v(t._s(t.project.title))]),t._v(" "),o("div",{staticClass:"project-info",on:{click:t.showModal}},[t._v("ⓘ")])]),t._v(" "),o("transition",{attrs:{name:"modal-fade"}},[t.isModalVisible?o("div",{staticClass:"modal-backdrop",on:{click:t.closeModal}},[o("div",{staticClass:"modal",on:{click:function(t){t.stopPropagation()}}},[o("div",{staticClass:"modal-header"},[o("div",{staticClass:"modal-header-title"},[t._v("\n                        "+t._s(t.project.title)+"\n                    ")]),t._v(" "),o("div",[o("button",{staticClass:"btn-close",attrs:{type:"button"},on:{click:t.closeModal}},[t._v("X")])])]),t._v(" "),o("div",{staticClass:"modal-body"},[t._v(" \n                    "+t._s(t.project.desc)+"\n                ")]),t._v(" "),o("div",{staticClass:"modal-footer"},[t.isSrcUrlNull?t._e():o("a",{attrs:{href:t.project.srcUrl,target:"_blank"}},[t._v("Source Code")]),t._v(" "),o("button",{staticClass:"btn-green",attrs:{type:"button"},on:{click:t.closeModal}},[t._v("Close")]),t._v(" "),t.isLoggedInAdmin?o("button",{staticClass:"btn-red",attrs:{type:"button"},on:{click:t.deleteProject}},[t._v("Delete")]):t._e()])])]):t._e()]),t._v(" "),o("div",{staticClass:"youtube"},[o("youtube",{ref:"youtube",attrs:{"video-id":t.project.youtubeId,fitParent:!0,resize:!0,resizeDelay:0}})],1)],1)},staticRenderFns:[]};var st={components:{"project-panel":o("VU/8")(ot,nt,!1,function(t){o("Ys94")},"data-v-3fd34d9c",null).exports},data:function(){return{isModalVisible:!1,title:"",youtubeId:"",desc:"",srcUrl:""}},created:function(){var t=this;Q().then(function(e){t.$store.dispatch("setProjects",e.data)}).catch(function(t){alert("Internal error occured, please try again")})},methods:{showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1},addProject:function(){var t=this,e={title:this.title,youtubeId:this.youtubeId,desc:this.desc,srcUrl:this.srcUrl};tt(e).then(function(e){t.$store.dispatch("addProject",e.data.project).then(function(){t.closeModal(),t.$router.replace("/projects")})}).catch(function(e){401==e.response.data.status?(alert("Your authentication expired, plz login"),console.log("Not authenticated operation, plz login"),t.$router.replace("/login")):403==e.response.data.status?alert("You have no authorization"):alert("Internal error occured, please try again")})}},computed:{projects:function(){return this.$store.getters.projects},isLoggedInAdmin:function(){return!(!this.$store.getters.isLoggedIn||!this.$store.getters.currentUser.isAdmin)},addDisabled:function(){return""==this.title.trim()||""==this.youtubeId.trim()}}},it={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"projects"},[o("div",{staticStyle:{width:"100%"}},[t.isLoggedInAdmin?o("button",{staticClass:"btn-green",on:{click:t.showModal}},[t._v("Add Project")]):t._e()]),t._v(" "),t._m(0),t._v(" "),t._l(t.projects,function(t,e){return o("project-panel",{key:t._id,attrs:{project:t}})}),t._v(" "),o("transition",{attrs:{name:"modal-fade"}},[t.isModalVisible?o("div",{staticClass:"modal-backdrop",on:{click:t.closeModal}},[o("div",{staticClass:"modal",on:{click:function(t){t.stopPropagation()}}},[o("div",{staticClass:"modal-body"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"modal-body-input",attrs:{type:"text",placeholder:"enter title here"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.youtubeId,expression:"youtubeId"}],staticClass:"modal-body-input",attrs:{type:"text",placeholder:"enter youtubeId here"},domProps:{value:t.youtubeId},on:{input:function(e){e.target.composing||(t.youtubeId=e.target.value)}}}),t._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.desc,expression:"desc"}],staticClass:"modal-body-input-textarea",attrs:{placeholder:"enter description here"},domProps:{value:t.desc},on:{input:function(e){e.target.composing||(t.desc=e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.srcUrl,expression:"srcUrl"}],staticClass:"modal-body-input",attrs:{type:"text",placeholder:"enter source URL here"},domProps:{value:t.srcUrl},on:{input:function(e){e.target.composing||(t.srcUrl=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn-green",attrs:{type:"button"},on:{click:t.closeModal}},[t._v("Close")]),t._v(" "),o("button",{class:{"btn-grey":t.addDisabled,"btn-green":!t.addDisabled},attrs:{type:"button",disabled:t.addDisabled},on:{click:t.addProject}},[t._v("Submit")])])])]):t._e()])],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"brief"},[this._v("\n        Below are the demo videos of my perojects I have worked on. "),e("br"),this._v("\n        They are hosted on github pages, to get the source code, simply click on"),e("b",[this._v(" ⓘ ")]),this._v(" in the title bar of each panel. "),e("br"),this._v("\n        I could have also host them on AWS like this website, but I have to pay for EC2 fee, after some considerations,\n        I decide to just put them on github pages as it's free and most of my projects will be static websites.\n    ")])}]};var at=o("VU/8")(st,it,!1,function(t){o("oUtn")},"data-v-22efc75e",null).exports,rt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"profile"},[e("h1",[this._v("Hi, "+this._s(this.user.username))]),this._v(" "),e("h2",[this._v("Your email: "+this._s(this.user.email))])])},staticRenderFns:[]};var lt=o("VU/8")({data:function(){return{user:this.$store.getters.currentUser,isLoggedIn:this.$store.getters.isLoggedIn}},mounted:function(){},computed:{}},rt,!1,function(t){o("3QF5")},"data-v-3a998d84",null).exports;n.a.use(I.a);var ct=new I.a({mode:"history",routes:[{path:"/",component:U},{path:"/home",component:U},{path:"/blog",component:N},{path:"/blogdetail/:_id",name:"blogdetail",component:O},{path:"/addblog",component:Y},{path:"/editblog",component:K},{path:"/life",component:W},{path:"/cooking",component:X.default},{path:"/projects",component:at},{path:"/login",component:j},{path:"/signup",component:R},{path:"/profile",component:lt},{path:"*",component:U}]}),ut=o("NYxO"),dt={blogs:[],blog:{}},mt={addBlog:function(t,e){t.state;var o=t.commit;alert("New Blog has been posted!"),o("UPDATE_BLOGS",e)},setBlogs:function(t,e){var o=t.state;t.commit;o.blogs=e}},pt={state:dt,mutations:{UPDATE_BLOGS:function(t,e){t.blogs.push(e)},CURRENT_BLOG:function(t,e){t.blog=e},UPDATE_COMMENTS:function(t,e){},EDIT_BLOG:function(t,e){}},actions:mt,getters:{blogs:function(){return dt.blogs},currentBlog:function(){return dt.blog}}},vt={projects:[],project:{}},gt={state:vt,mutations:{UPDATE_PROJECTS:function(t,e){t.projects.push(e)},SET_PROJECTS:function(t,e){t.projects=e}},actions:{addProject:function(t,e){t.state;var o=t.commit;alert("New project is added!"),o("UPDATE_PROJECTS",e)},setProjects:function(t,e){var o=t.state;t.commit;o.projects=e}},getters:{projects:function(){return vt.projects},project:function(){return vt.project}}},ht={state:{},mutations:{},actions:{},getters:{}},ft={token:null,user:null,isUserLoggedIn:!1},_t={state:ft,mutations:{SET_TOKEN:function(t,e){t.token=e,e?t.isUserLoggedIn=!0:(t.isUserLoggedIn=!1,localStorage.clear())},SET_USER:function(t,e){t.user=e,e?t.isUserLoggedIn=!0:(localStorage.clear(),t.isUserLoggedIn=!1)}},actions:{setToken:function(t,e){return(0,t.commit)("SET_TOKEN",e)},setUser:function(t,e){return(0,t.commit)("SET_USER",e)},tryAutoLogin:function(t){var e=t.commit,o=(t.dispatch,localStorage.getItem("token")),n=localStorage.getItem("userId"),s=localStorage.getItem("username"),i=localStorage.getItem("isAdmin"),a=localStorage.getItem("email");return o?localStorage.getItem("expirationDate")<=(new Date).getTime()?(localStorage.clear(),e("SET_USER",null),void e("SET_TOKEN",null)):(e("SET_USER",{username:s,userId:n,email:a,isAdmin:i}),void e("SET_TOKEN",o)):(e("SET_USER",null),void e("SET_TOKEN",null))},setLogoutTimer:function(t){var e=t.commit;setTimeout(function(){console.log("Auto log out from timer"),e("SET_USER",null),e("SET_TOKEN",null),localStorage.clear(),ct.push("/login")},36e5)}},getters:{currentUser:function(){return ft.user},isLoggedIn:function(){return ft.isUserLoggedIn}}};n.a.use(ut.a);var bt=new ut.a.Store({modules:{blogModule:pt,commentModule:ht,userModule:_t,projectModule:gt},state:{},mutations:{},actions:{},getters:{}}),yt=o("G0J2"),Ct=o.n(yt),wt=(o("3f40"),o("4qOc"),o("+cgv"),o("H5Ot")),It=o.n(wt);n.a.use(It.a),n.a.config.productionTip=!1,n.a.use(Ct.a),new n.a({el:"#app",router:ct,store:bt,components:{App:w},template:"<App/>"})},"PZ/o":function(t,e,o){"use strict";var n={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"container"})},staticRenderFns:[]};e.a=n},ULfY:function(t,e){},XaBH:function(t,e){},Yipx:function(t,e){},Ys94:function(t,e){},"ZR+H":function(t,e){},aXV8:function(t,e){},iuBj:function(t,e){},oUtn:function(t,e){},owK7:function(t,e){},pc9B:function(t,e){},qZTC:function(t,e){},tZpj:function(t,e){},vqMJ:function(t,e){},wpJ1:function(t,e){},"wx/U":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.22562158d89c0581d855.js.map